---
description: 
globs: 
alwaysApply: false
---
# SOL-Bot ãƒãƒƒã‚¯ãƒ­ã‚°

## P0 - æœ¬ç•ªãƒ–ãƒ¬ã‚¤ã‚¯ç´šãƒã‚°ï¼ˆæœ€å„ªå…ˆï¼‰

- [x] ALG-031: applyRiskFilters å‘¼ã³å‡ºã—å¿˜ã‚Œã‚’ä¿®æ­£
      - ğŸ“… Due        : 2025-12-05
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ”— Depends-on : RISK-003
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - ğŸ“Š Progress   : 100%
      - âœ Notes      : TradingEngine.executeStrategyã«signals = applyRiskFilters(signals)è¿½åŠ å®Œäº†ã€æ¬¡å›ã‚¹ãƒ—ãƒªãƒ³ãƒˆçµ‚äº†æ™‚ã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–äºˆå®š

- [x] BT-005: ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã«æ‰‹æ•°æ–™ãƒ»ã‚¹ãƒªãƒƒãƒšãƒ¼ã‚¸ã‚’åæ˜ 
      - ğŸ“… Due        : 2025-12-06
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - ğŸ“Š Progress   : 100%
      - âœ Notes      : ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆæ™‚ã®ã‚¹ãƒªãƒƒãƒšãƒ¼ã‚¸ã¨æ‰‹æ•°æ–™è¨ˆç®—ã‚’å®Ÿè£…å®Œäº†ã€æ¬¡å›ã‚¹ãƒ—ãƒªãƒ³ãƒˆçµ‚äº†æ™‚ã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–äºˆå®š

## P1 - CI/CDæ§‹ç¯‰ã¨é‡è¦ãƒã‚°ä¿®æ­£

- [x] INF-006: GitHub Actions CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ§‹ç¯‰
      - ğŸ“… Due        : 2025-12-07
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : infra
      - ğŸ©º Health     : âœ…
      - ğŸ“Š Progress   : 100%
      - âœ Notes      : lintâ†’testâ†’buildâ†’deploy to EC2ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè£…ã€ESLint/Prettierè¨­å®šè¿½åŠ ã€æ¬¡å›ã‚¹ãƒ—ãƒªãƒ³ãƒˆçµ‚äº†æ™‚ã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–äºˆå®š

- [x] TST-001: P0ä¿®æ­£å¾Œã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ
      - ğŸ“… Due        : 2025-12-08
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : test
      - ğŸ©º Health     : âœ…
      - ğŸ“Š Progress   : 100%
      - âœ Notes      : smokeTest.tså®Ÿè£…å®Œäº†ã€npm test:smokeã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œå¯èƒ½ã€æ¤œè¨¼ãƒ»ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½è¿½åŠ 

- [ ] INF-016: TradingEngine ä¾å­˜æ³¨å…¥ãƒªãƒ•ã‚¡ã‚¯ã‚¿
      - ğŸ“… Due        : 2025-12-12
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : refactor
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : constructor(â€¦, opts:{ oms, exchangeSvc })å½¢å¼ã«å¤‰æ›´ã—ãƒ†ã‚¹ãƒˆå®¹æ˜“åŒ–ã€ãƒ¢ãƒƒã‚¯æ³¨å…¥å¯èƒ½ã«

- [ ] INF-017: parameters.yaml ã®monitoringé‡è¤‡å‰Šé™¤
      - ğŸ“… Due        : 2025-12-10
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : 2ç®‡æ‰€ã«å®šç¾©ã•ã‚ŒãŸmonitoring:ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’çµ±åˆã—ã€å˜ä¸€ãƒ‘ã‚¹ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«

- [ ] BT-006: ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªè¨ˆç®—ã‚’ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ å¯¾å¿œ
      - ğŸ“… Due        : 2025-12-11
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ”— Depends-on : BT-004
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : annualizedReturn/Stddevè¨ˆç®—ã«(barsPerYear = 8760 / timeframeHours)ã‚’å°å…¥

- [ ] OMS-011: cronã‚¿ã‚¹ã‚¯timezone & å¤šé‡èµ·å‹•å¯¾ç­–
      - ğŸ“… Due        : 2025-12-15
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : cron.schedule(opts,{timezone:'UTC'})ã¨æ—¢å­˜task.stop()ã®å‰ã«task.destroy()å‘¼ã³å‡ºã—è¿½åŠ 

## P2 - ã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„

- [ ] CONF-004b: adjustSlopePeriodsé–¾å€¤ã®å¤–éƒ¨è¨­å®šåŒ–
      - ğŸ“… Due        : 2025-12-20
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : feat
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : adjustSlopePeriodsé–¾å€¤8/3ã‚’YAMLå¤–å‡ºã—ã—ã€Optunaã®æœ€é©åŒ–å¯¾è±¡ã«è¿½åŠ 

- [ ] ALG-032: EMERGENCYæˆ¦ç•¥ã®è§£é™¤ãƒ­ã‚¸ãƒƒã‚¯è¿½åŠ 
      - ğŸ“… Due        : 2025-12-20
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : feat
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : priceChange < BLACK_SWAN_THRESHOLD/2 for 24h â†’ normal strategy ã¸å¾©å¸°ã™ã‚‹æ¡ä»¶å®Ÿè£…

- [ ] TST-002: Jest+ts-jestã§æˆ¦ç•¥ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ80%
      - ğŸ“… Due        : 2025-12-25
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : test
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : candles stubã§trend/rangeç­”ãˆã‚’assertã€CIã‚«ãƒãƒ¬ãƒƒã‚¸é–¾å€¤80%

- [ ] PERF-001: EMA/ATRè¨ˆç®—ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«åŒ–
      - ğŸ“… Due        : 2026-01-05
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : perf
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : EMA/ATRæ¯å›å…¨å±¥æ­´å†è¨ˆç®—ã§ã¯ãªãã€å¢—åˆ†è¨ˆç®—æ–¹å¼ã«å¤‰æ›´ã—ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹10å€æ”¹å–„

- [ ] CICD-003: OCOå¯¾å¿œã‚­ãƒ¼ã®ä¿®æ­£ 
      - ğŸ“… Due        : 2025-12-22
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : exchange.has['createOCO']â†’å¤šãã¯'createOCOOrder'ã€‚fallbackã‚’è¿½åŠ ã—ã¦äº’æ›æ€§ç¢ºä¿

## P3 - ã‚¤ãƒ³ãƒ•ãƒ©ï¼CIé¢ã®æ”¹å–„

- [ ] INF-007: æœ¬ç•ªç”¨Dockerfileã®ä½œæˆ
      - ğŸ“… Due        : 2025-12-28
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : infra
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : node:18-slim, non-root user, multi-stage buildã§RUN npm ci --prodå¯¾å¿œ

- [ ] SEC-001: API Key Secret Managerå¯¾å¿œ
      - ğŸ“… Due        : 2026-01-10
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : security
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : AWS Parameter Store / GCP Secret Managerç”¨ã®æŠ½è±¡driverã‚’å®Ÿè£…

- [ ] CICD-002: Todoãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®GitHub Actionsãƒã‚§ãƒƒã‚¯
      - ğŸ“… Due        : 2025-12-30
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : infra
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : PRæ™‚ã«.todo/*.mdcã®æœªå®Œãƒã‚§ãƒƒã‚¯ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼

- [ ] PERF-002: ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®--quietãƒ¢ãƒ¼ãƒ‰è¿½åŠ 
      - ğŸ“… Due        : 2026-01-15
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : perf
      - ğŸ©º Health     : â³
      - ğŸ“Š Progress   : 0%
      - âœ Notes      : LOG_LEVEL=warnã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’BacktestRunnerã«è¿½åŠ ã—ã€CIå®Ÿè¡Œæ™‚ã«å¤§é‡ãƒ­ã‚°ã‚’æŠ‘åˆ¶

## ä»•ä¸Šã’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] OPT-001: é«˜åº¦æˆ¦ç•¥ã®Optunaã‚¹ãƒšãƒ¼ã‚¹è¿½åŠ 
      - ğŸ“… Due        : 2025-10-25
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : feat
      - ğŸ©º Health     : âœ…
      - ğŸ“Š Progress   : 100%
      - âœ Notes      : ATR_THRESHOLDã€TrailingStopFactorã€GridATRMultiplierã‚’Optunaã«è¿½åŠ ã—æœ€é©åŒ–ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å®Ÿè£…å®Œäº†

## å®Œäº†æ¸ˆã¿ã‚¿ã‚¹ã‚¯

- [x] ALG-020: EMAå‚¾ãè¨ˆç®—ã®ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ å¯¾å¿œ
      - ğŸ“… Due        : 2025-12-01
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - ğŸ“Š Progress   : 100%
      - âœ Notes      : å¹´ç‡æ›ç®—ä¿‚æ•°ã‹ã‚‰ä¸è¦ãª "(periods/6)"ã‚’å‰Šé™¤ã—ã€factor = (365*24/timeframeHours)ã®è¨ˆç®—å¼ã«ä¿®æ­£

- [x] ALG-021: ãƒ¬ãƒ³ã‚¸æˆ¦ç•¥ã®ã‚°ãƒªãƒƒãƒ‰å¹…è¨ˆç®—ä¿®æ­£
      - ğŸ“… Due        : 2025-12-03
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - ğŸ“Š Progress   : 100%
      - âœ Notes      : levelWidthè¨ˆç®—å¼ã®ãƒã‚°ã§éå‰°ã‚°ãƒªãƒƒãƒ‰ç”Ÿæˆã€‚å¼ã‚’levelWidth = (atrPercent/100) * GRID_ATR_MULTIPLIER * closePriceã«ä¿®æ­£

- [x] INF-011b: HTTPãƒªãƒˆãƒ©ã‚¤è¨­å®šã®å¼·åŒ–
      - ğŸ“… Due        : 2025-12-05
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - ğŸ“Š Progress   : 100%
      - âœ Notes      : MAX_RETRIES=5ã ã¨Binanceã®banå¯¾ç­–ã«ä¸ååˆ†ã€‚MAX_RETRIES=7 / delays [1,2,4,8,16,32,64]ç§’ã«å¤‰æ›´

- [x] INF-015: Node.jsé–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰
      - ğŸ“… Due        : 2025-11-25
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : infra
      - ğŸ©º Health     : âœ…
      - âœ Notes      : Node.jsã¨npmã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ä¾å­˜é–¢ä¿‚ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã¨æ¤œè¨¼ã‚’å®Ÿè¡Œå¯èƒ½ã«ã™ã‚‹

- [x] OMS-007: isRetryableé–¢æ•°ã®è¿½åŠ ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
      - ğŸ“… Due        : 2025-09-20
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ”— Depends-on : INF-011
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - âœ Notes      : exchangeService.tsã«isRetryableé–¢æ•°ã‚’è¿½åŠ ã—ã€429/5xx/ECONNRESETã‚¨ãƒ©ãƒ¼ã‚’åˆ¤å®šã—ã¦å†è©¦è¡Œã™ã‚‹ã‚ˆã†å®Ÿè£…

- [x] ALG-016b: ãƒˆãƒ¬ã‚¤ãƒªãƒ³ã‚°ã‚¹ãƒˆãƒƒãƒ—æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£
      - ğŸ“… Due        : 2025-11-23
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - âœ Notes      : ãƒˆãƒ¬ãƒ³ãƒ‰æˆ¦ç•¥ã®ãƒˆãƒ¬ã‚¤ãƒªãƒ³ã‚°ã‚¹ãƒˆãƒƒãƒ—æ›´æ–°åˆ¤å®šæ¡ä»¶(entryPrice-ATR*F < newStopPrice)ãŒå¸¸ã«çœŸã«ãªã‚‹å•é¡Œã€‚position.stopPriceã‚’ä¿æŒã—ã¦æ¯”è¼ƒã™ã‚‹ã‚ˆã†ä¿®æ­£

- [x] RISK-003: ãƒªã‚¹ã‚¯ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼åœæ­¢è·é›¢è€ƒæ…®ã®å®Ÿè£…
      - ğŸ“… Due        : 2025-11-24
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - âœ Notes      : ãƒªã‚¹ã‚¯è¨ˆç®—ã«ã‚¹ãƒˆãƒƒãƒ—ãƒ­ã‚¹è·é›¢ã‚’è€ƒæ…®ã™ã‚‹ã‚ˆã†ä¿®æ­£ã€‚risk = orderAmount Ã— stopDistanceã®è¨ˆç®—å¼ã‚’å®Ÿè£…

- [x] OMS-008: ãƒ•ã‚£ãƒ«æ›´æ–°ã¨æœªæ±ºæ¸ˆç›£è¦–ã‚¿ã‚¹ã‚¯ã®å®Ÿè£…
      - ğŸ“… Due        : 2025-09-22
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ”— Depends-on : OMS-006
      - ğŸ·ï¸  Label      : bug
      - ğŸ©º Health     : âœ…
      - âœ Notes      : OrderManagementSystemã«Webhook/RESTã§ã®ç´„å®šæ¤œçŸ¥ã¨å®šæœŸçš„ãªæœªæ±ºæ¸ˆæ³¨æ–‡ç›£è¦–æ©Ÿèƒ½ã‚’è¿½åŠ 

- [x] INF-013: .envãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šã®ä½œæˆ
      - ğŸ“… Due        : 2025-11-05
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ”— Depends-on : DAT-002
      - ğŸ·ï¸  Label      : infra
      - ğŸ©º Health     : âœ…
      - âœ Notes      : .envã¨.env.exampleã«USE_PARQUETã€PARQUET_STORAGE_PATHã€DUCKDB_è¨­å®šã‚’è¿½åŠ 

- [x] DEP-001: Parquet+DuckDBãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
      - ğŸ“… Due        : 2025-11-06
      - ğŸ‘¤ Owner      : @nijor
      - ğŸ”— Depends-on : INF-013
      - ğŸ·ï¸  Label      : infra
      - ğŸ©º Health     : âœ…
      - âœ Notes      : package.jsonã«apache-arrow, duckdb, parquetjs, js-yamlãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ 







      
      